<!DOCTYPE HTML>
<html>

<head>
	<meta charset="utf-8">
	<title>Game Framework</title>
	<meta name="viewport" content="width=device-width,initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="full-screen" content="true" />
	<meta name="screen-orientation" content="portrait" />
	<meta name="x5-fullscreen" content="true" />
	<meta name="360-fullscreen" content="true" />
	<style>
        html, body {
            -ms-touch-action: none;
            background: #888888;
            padding: 0;
            border: 0;
            margin: 0;
            height: 100%;
        }
    </style>

<!--这个标签为通过egret提供的第三方库的方式生成的 javascript 文件。删除 modules_files 标签后，库文件加载列表将不会变化，请谨慎操作！-->
<!--modules_files_start-->
	<script egret="lib" src="libs/modules/egret/egret.js"></script>
	<script egret="lib" src="libs/modules/egret/egret.web.js"></script>
	<script egret="lib" src="libs/modules/game/game.js"></script>
	<script egret="lib" src="libs/modules/res/res.js"></script>
	<script egret="lib" src="libs/modules/eui/eui.js"></script>
	<script egret="lib" src="libs/modules/tween/tween.js"></script>
	<script egret="lib" src="libs/modules/socket/socket.js"></script>
	<script egret="lib" src="promise/promise.js"></script>
	<!--modules_files_end-->

<!--这个标签为不通过egret提供的第三方库的方式使用的 javascript 文件，请将这些文件放在libs下，但不要放在modules下面。-->


<!--这个标签会被替换为项目中所有的 javascript 文件。删除 game_files 标签后，项目文件加载列表将不会变化，请谨慎操作！-->
<!--game_files_start-->
	<script egret="lib" src="bin-debug/jinglibs/notice/Notice.js"></script>
	<script egret="lib" src="bin-debug/models/vos/StartParamsVO.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/time/DelayCaller.js"></script>
	<script egret="lib" src="bin-debug/consts/AudioName.js"></script>
	<script egret="lib" src="bin-debug/consts/ClientType.js"></script>
	<script egret="lib" src="bin-debug/consts/SceneName.js"></script>
	<script egret="lib" src="bin-debug/consts/WindowName.js"></script>
	<script egret="lib" src="bin-debug/consts/enums/protos/EC2S.js"></script>
	<script egret="lib" src="bin-debug/consts/enums/protos/ES2C.js"></script>
	<script egret="lib" src="bin-debug/extensions/Extension.js"></script>
	<script egret="lib" src="bin-debug/extensions/WXJsSdk.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/audio/AudioDevice.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/control/ACommand.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/history/HistoryRecord.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/history/HistoryRecordEvent.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/loader/AsyncRES.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/loader/GroupListLoader.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/loader/GroupListLoaderEvent.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/loader/GroupListSingleThreadLoader.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/loader/ResItemListLoader.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/model/CallbackModel.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/model/CountDownModel.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/net/AProtocolCacher.js"></script>
	<script egret="lib" src="bin-debug/Main.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/notice/NoticeManager.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/notice/NoticeRegisteredVO.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QR8bitByte.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRBitBuffer.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRCode.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRCodeModel.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRErrorCorrectLevel.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRMaskPattern.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRMath.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRMode.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRPolynomial.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRRSBlock.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/qr/QRUtil.js"></script>
	<script egret="lib" src="bin-debug/adapters/AssetAdapter.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/time/DelayCallerParamVO.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/ui/AMediator.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/ui/IView.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/ui/SceneMgr.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/ui/WindowMgr.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/utils/CSVParser.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/utils/RectUtil.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/utils/TextUtil.js"></script>
	<script egret="lib" src="bin-debug/jinglibs/utils/TimeUtil.js"></script>
	<script egret="lib" src="bin-debug/models/DC.js"></script>
	<script egret="lib" src="bin-debug/models/vos/MsgWinVO.js"></script>
	<script egret="lib" src="bin-debug/models/vos/SettingVO.js"></script>
	<script egret="lib" src="bin-debug/adapters/ThemeAdapter.js"></script>
	<script egret="lib" src="bin-debug/natvie/NativeCaller.js"></script>
	<script egret="lib" src="bin-debug/natvie/NativeExternal.js"></script>
	<script egret="lib" src="bin-debug/natvie/WeChat.js"></script>
	<script egret="lib" src="bin-debug/natvie/YaYaIM.js"></script>
	<script egret="lib" src="bin-debug/net/GameSocket.js"></script>
	<script egret="lib" src="bin-debug/net/GameSocketEvent.js"></script>
	<script egret="lib" src="bin-debug/notices/GameNotice.js"></script>
	<script egret="lib" src="bin-debug/notices/NativeNotice.js"></script>
	<script egret="lib" src="bin-debug/notices/YaYaIMNotice.js"></script>
	<script egret="lib" src="bin-debug/ui/GSceneMgr.js"></script>
	<script egret="lib" src="bin-debug/ui/GWindowMgr.js"></script>
	<script egret="lib" src="bin-debug/ui/SceneLoadingVO.js"></script>
	<script egret="lib" src="bin-debug/ui/WindowLoadingVO.js"></script>
	<script egret="lib" src="bin-debug/utils/DateUtil.js"></script>
	<script egret="lib" src="bin-debug/utils/DeviceUtil.js"></script>
	<script egret="lib" src="bin-debug/utils/StorageUtil.js"></script>
	<script egret="lib" src="bin-debug/views/base/LoadScene.js"></script>
	<script egret="lib" src="bin-debug/views/base/LoadWin.js"></script>
	<script egret="lib" src="bin-debug/views/base/MsgWin.js"></script>
	<script egret="lib" src="bin-debug/views/base/Preloading.js"></script>
	<script egret="lib" src="bin-debug/views/base/WaitWin.js"></script>
	<script egret="lib" src="bin-debug/views/scenes/DemoScene.js"></script>
	<script egret="lib" src="bin-debug/views/windows/DemoWebSocket.js"></script>
	<script egret="lib" src="bin-debug/views/windows/DemoWin.js"></script>
	<!--game_files_end-->
</head>

<body>

	<div id="gameDiv" style="margin: auto;width: 100%;height: 100%;" class="egret-player" data-entry-class="Main" data-orientation="auto" data-scale-mode="showAll" data-frame-rate="30" data-content-width="1280"
data-content-height="720" data-show-paint-rect="false" data-multi-fingered="2" data-show-fps="true" data-show-log="false"
data-show-fps-style="x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.9">
</div>
<script>

	//---------------------------原生通信部分----------------------------------------

	//请求Android原生层
	function callAndroidNative(json) {
		if (window.js2native == null) {
			return null;
		}
		var res = window.js2native.toNative(json);

		return res;
	}

	//调用Android原生层以获取其请求的消息
	function getNativeMsgs() {
		if (window.js2native == null) {
			return null;
		}
		var msg = window.js2native.getNativeMsgs();
		return msg;
	}

	//请求IOS原生层
	function callIosNative(json) {
		if (window.webkit && window.webkit.messageHandlers && window.webkit.messageHandlers.toNative) {
			window.webkit.messageHandlers.toNative.postMessage(json);
		}
		else {
			location.href = "rrcc://toNative_?" + json;
		}
	}

	//IOS原生层通过该方法向JS发送消息
	function fromNative(msg) {
		msg = decodeURIComponent(msg);
		NativeExternal.addMsgFromNative(msg);
	}


	//---------------------------启动参数部分----------------------------------------

	//获取请求参数	 
	function getRequests() {
		var url = location.search; //获取url中"?"符后的字串 
		var theRequest = new Object();
		if (url.indexOf("?") != -1) {
			var str = url.substr(1);
			strs = str.split("&");
			for (var i = 0; i < strs.length; i++) {
				theRequest[strs[i].split("=")[0]] = unescape(strs[i].split("=")[1]);
			}
		}
		return theRequest;
	}

	//创建URL请求参数  
	function createUrlParams(requests) {
		var isFirst = true;
		var str = "";
		for (var k in requests) {
			if (isFirst) {
				str += k + "=" + requests[k];
				isFirst = false;
			}
			else {
				str += "&" + k + "=" + requests[k];
			}
		}
		return str;
	}

	//提取url请求携带的参数
	var startParams = getRequests();
	// if (null == startParams["ver"]) {
	// 	//版本号不存在，生成一个带时间戳的新版本,重新跳转页面
	// 	startParams["ver"] = new Date().getTime();
	// 	var urlIdx = location.href.indexOf("?");
	// 	var url = location.href;
	// 	if (urlIdx > -1) {
	// 		url = location.href.substring(0, urlIdx);
	// 	}
	// 	url = url + "?" + createUrlParams(startParams);
	// 	location.href = url;
	// }

	egret.runEgret({ renderMode: "webgl", audioType: 0 });

</script>
</body>

</html>